import React, { useMemo, useState, useEffect, useRef } from "react";

// Interactive study page for Morgan Stanley Data Center Technician interview
// Tailwind is available by default. Single-file component, no external deps.

export default function DataCenterInterviewGuide() {
  const [dark, setDark] = useState(true);
  const [query, setQuery] = useState("");
  const [expanded, setExpanded] = useState({});
  const [showENOnly, setShowENOnly] = useState(false);
  const [flashIdx, setFlashIdx] = useState(0);
  const [flashSide, setFlashSide] = useState("Q");
  const pageRef = useRef(null);

  const data = useMemo(() => buildData(), []);
  const allItems = useMemo(() => flattenForSearch(data), [data]);

  // Build searchable set
  const results = useMemo(() => {
    if (!query.trim()) return allItems;
    const q = query.toLowerCase();
    return allItems.filter((it) => (it.search || "").includes(q));
  }, [query, allItems]);

  // Flashcards (use English Qs only)
  const flashcards = useMemo(() => buildFlashcards(data), [data]);
  useEffect(() => {
    setFlashIdx(Math.floor(Math.random() * flashcards.length));
  }, [flashcards.length]);

  useEffect(() => {
    if (dark) document.documentElement.classList.add("dark");
    else document.documentElement.classList.remove("dark");
  }, [dark]);

  const toggleAll = (open) => {
    const next = {};
    data.sections.forEach((s) => (next[s.id] = open));
    setExpanded(next);
  };

  const copyText = async (text) => {
    try {
      await navigator.clipboard.writeText(text);
      toast("Copied to clipboard âœ“");
    } catch (e) {
      toast("Copy failed. Please try again.");
    }
  };

  const toast = (msg) => {
    const el = document.createElement("div");
    el.textContent = msg;
    el.className =
      "fixed bottom-6 left-1/2 -translate-x-1/2 z-50 px-3 py-2 rounded-xl shadow bg-black/80 text-white text-sm";
    document.body.appendChild(el);
    setTimeout(() => el.remove(), 1400);
  };

  const filteredSections = useMemo(() => {
    if (!query.trim()) return data.sections;
    const ids = new Set(results.map((r) => r.sectionId));
    return data.sections.filter((s) => ids.has(s.id));
  }, [data.sections, results, query]);

  return (
    <div ref={pageRef} className="min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100">
      <header className="sticky top-0 z-30 backdrop-blur bg-white/70 dark:bg-slate-900/70 border-b border-slate-200/50 dark:border-slate-700">
        <div className="max-w-6xl mx-auto px-4 py-3 flex items-center gap-3">
          <h1 className="text-xl md:text-2xl font-semibold">Data Center Technician é¢è¯•äº’åŠ¨å­¦ä¹ é¡µ</h1>
          <span className="ml-auto" />
          <button
            onClick={() => setDark((d) => !d)}
            className="px-3 py-1.5 rounded-xl text-sm border dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800"
            title="Toggle dark mode"
          >
            {dark ? "ğŸŒ™" : "â˜€ï¸"}
          </button>
          <button
            onClick={() => window.print()}
            className="px-3 py-1.5 rounded-xl text-sm border dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800"
            title="Print / Save as PDF"
          >
            ğŸ–¨ï¸ Print
          </button>
        </div>
      </header>

      <main className="max-w-6xl mx-auto p-4 grid md:grid-cols-[250px,1fr] gap-6">
        {/* Sidebar */}
        <aside className="hidden md:block">
          <div className="sticky top-20 space-y-3">
            <div className="p-3 rounded-2xl border dark:border-slate-700">
              <div className="text-sm font-medium mb-2">å·¥å…·ç®±</div>
              <div className="flex flex-col gap-2">
                <input
                  value={query}
                  onChange={(e) => setQuery(e.target.value)}
                  placeholder="æœç´¢å…³é”®è¯ / Search..."
                  className="w-full px-3 py-2 rounded-xl bg-white dark:bg-slate-800 border dark:border-slate-700 text-sm"
                />
                <label className="inline-flex items-center gap-2 text-sm">
                  <input type="checkbox" checked={showENOnly} onChange={(e) => setShowENOnly(e.target.checked)} />
                  åªæ˜¾ç¤ºè‹±æ–‡ / EN only
                </label>
                <div className="flex gap-2">
                  <button onClick={() => toggleAll(true)} className="flex-1 px-3 py-1.5 rounded-xl text-sm border dark:border-slate-700">
                    å±•å¼€å…¨éƒ¨
                  </button>
                  <button onClick={() => toggleAll(false)} className="flex-1 px-3 py-1.5 rounded-xl text-sm border dark:border-slate-700">
                    æŠ˜å å…¨éƒ¨
                  </button>
                </div>
              </div>
            </div>

            {/* Flashcards */}
            <div className="p-3 rounded-2xl border dark:border-slate-700">
              <div className="text-sm font-medium mb-2">Flashcards é€Ÿè®°å¡</div>
              <div className="text-sm leading-relaxed">
                <div className="font-semibold mb-1">{flashSide === "Q" ? "Question" : "Answer"}</div>
                <div className="mb-3">{flashSide === "Q" ? flashcards[flashIdx]?.q : flashcards[flashIdx]?.a}</div>
                <div className="flex gap-2">
                  <button onClick={() => setFlashSide((s) => (s === "Q" ? "A" : "Q"))} className="flex-1 px-3 py-1.5 rounded-xl text-sm border dark:border-slate-700">
                    ç¿»é¢
                  </button>
                  <button
                    onClick={() => {
                      setFlashIdx((i) => (i + 1) % flashcards.length);
                      setFlashSide("Q");
                    }}
                    className="flex-1 px-3 py-1.5 rounded-xl text-sm border dark:border-slate-700"
                  >
                    ä¸‹ä¸€å¼ 
                  </button>
                </div>
              </div>
            </div>
          </div>
        </aside>

        {/* Content */}
        <section className="space-y-6">
          {filteredSections.map((sec) => (
            <article key={sec.id} className="rounded-2xl border dark:border-slate-700 overflow-hidden">
              <header
                onClick={() => setExpanded((ex) => ({ ...ex, [sec.id]: !ex[sec.id] }))}
                className="cursor-pointer select-none px-4 py-3 bg-slate-100 dark:bg-slate-800/60 flex items-center gap-3"
              >
                <span className="text-lg font-semibold">{sec.title}</span>
                <span className="ml-auto text-sm opacity-70">{expanded[sec.id] ? "ç‚¹å‡»æŠ˜å " : "ç‚¹å‡»å±•å¼€"}</span>
              </header>

              {expanded[sec.id] !== false && (
                <div className="p-4 space-y-4">
                  {sec.blocks.map((blk, idx) => (
                    <Block
                      key={idx}
                      block={blk}
                      showENOnly={showENOnly}
                      query={query}
                      onCopy={copyText}
                    />
                  ))}
                </div>
              )}
            </article>
          ))}
        </section>
      </main>

      <footer className="max-w-6xl mx-auto px-4 pb-12 pt-2 text-xs opacity-70">
        Tips: ä½¿ç”¨å·¦ä¾§æœç´¢è¿‡æ»¤å†…å®¹ï¼›æ‰“å°æŒ‰é’®å¯å¯¼å‡º PDFï¼›åˆ‡æ¢ EN only å¿«é€Ÿç»ƒå£è¯­ã€‚
      </footer>
    </div>
  );
}

function Block({ block, showENOnly, query, onCopy }) {
  const content = useMemo(() => highlight(block, query), [block, query]);
  return (
    <div className="rounded-xl border dark:border-slate-700">
      <div className="px-4 py-3 flex items-start gap-3">
        <div className="font-medium mt-0.5 shrink-0">{block.label}</div>
        <div className="flex-1 space-y-2 text-sm leading-relaxed">
          {block.items?.map((it, i) => (
            <div key={i} className="">
              <Line item={it} showENOnly={showENOnly} content={content[i]} />
            </div>
          ))}
          {block.note && <div className="text-xs opacity-80">{block.note}</div>}
        </div>
        {block.copy && (
          <button onClick={() => onCopy(block.copy)} className="ml-2 px-3 py-1.5 rounded-lg text-xs border dark:border-slate-700">
            Copy
          </button>
        )}
      </div>
    </div>
  );
}

function Line({ item, showENOnly, content }) {
  const en = content?.en || item.en || "";
  const zh = content?.zh || item.zh || "";
  return (
    <div className="">
      <div className="[&_mark]:bg-yellow-200/60 dark:[&_mark]:bg-yellow-400/40">
        <div className="font-semibold">{renderHTML(en)}</div>
        {!showENOnly && zh && <div className="opacity-80">{renderHTML(zh)}</div>}
      </div>
    </div>
  );
}

function renderHTML(str) {
  return <span dangerouslySetInnerHTML={{ __html: str }} />;
}

function highlight(block, query) {
  const wrap = (s) =>
    !query
      ? s
      : s.replace(new RegExp(`(${escapeRegExp(query)})`, "ig"), "<mark>$1</mark>");

  const out = (block.items || []).map((it) => ({
    en: wrap(it.en || ""),
    zh: wrap(it.zh || ""),
  }));
  return out;
}

function escapeRegExp(string) {
  return string.replace(/[.*+?^${}()|[\\]\\]/g, "\\$&");
}

function flattenForSearch(data) {
  const arr = [];
  for (const sec of data.sections) {
    for (const blk of sec.blocks) {
      for (const it of blk.items || []) {
        const search = [it.en, it.zh].join(" ").toLowerCase();
        arr.push({ sectionId: sec.id, search });
      }
    }
  }
  return arr;
}

function buildFlashcards(data) {
  const cards = [];
  const sec1 = data.sections.find((s) => s.id === "q" );
  for (const blk of sec1.blocks) {
    for (const it of blk.items) {
      if (it.en.endsWith("?")) cards.push({ q: it.en, a: it.zh || "(é¢è¯•è‡ªç”±å‘æŒ¥)" });
    }
  }
  const sec3 = data.sections.find((s) => s.id === "answers");
  for (const blk of sec3.blocks) {
    for (const it of blk.items) {
      cards.push({ q: it.en.split("â†’")[0] || "Example", a: it.zh || it.en });
    }
  }
  return cards;
}

function buildData() {
  return {
    sections: [
      {
        id: "q",
        title: "1) å¸¸è§é¢è¯•é—®é¢˜ / Interview Questions",
        blocks: [
          {
            label: "è‡ªæˆ‘ä»‹ç» / Background",
            items: [
              { en: "Tell me about your background and experience in data centers.", zh: "è¯·ä»‹ç»ä½ åœ¨æ•°æ®ä¸­å¿ƒçš„èƒŒæ™¯å’Œç»éªŒã€‚" },
            ],
          },
          {
            label: "æŠ€æœ¯ç»éªŒ / Technical Experience",
            items: [
              { en: "What experience do you have with rack and stack?", zh: "ä½ åœ¨ä¸Šæ¶è®¾å¤‡æ–¹é¢æœ‰ä»€ä¹ˆç»éªŒï¼Ÿ" },
              { en: "How do you handle fiber optic cables? Whatâ€™s the difference between single-mode and multi-mode fiber?", zh: "ä½ å¦‚ä½•å¤„ç†å…‰çº¤ï¼Ÿå•æ¨¡ä¸å¤šæ¨¡çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" },
              { en: "Can you explain the difference between SFP, SFP+, and QSFP?", zh: "è¯´æ˜ SFPã€SFP+ã€QSFP çš„åŒºåˆ«ã€‚" },
              { en: "Describe your experience with ticketing systems like ServiceNow.", zh: "è°ˆè°ˆä½ ä½¿ç”¨ ServiceNow ç­‰å·¥å•ç³»ç»Ÿçš„ç»éªŒã€‚" },
              { en: "Have you worked with Excel? Can you use pivot tables or formulas?", zh: "ä½ ç†Ÿæ‚‰ Excel å—ï¼Ÿä¼šä½¿ç”¨æ•°æ®é€è§†è¡¨æˆ–å…¬å¼å—ï¼Ÿ" },
            ],
          },
          {
            label: "åœºæ™¯é¢˜ / Scenarios",
            items: [
              { en: "A server is not powering on after installation, how would you troubleshoot?", zh: "æœåŠ¡å™¨ä¸Šæ¶åæ— æ³•å¼€æœºï¼Œä½ ä¼šå¦‚ä½•æ’æŸ¥ï¼Ÿ" },
              { en: "You receive multiple urgent tickets at the same time, how do you prioritize?", zh: "åŒä¸€æ—¶é—´æœ‰å¤šä¸ªç´§æ€¥å·¥å•ï¼Œä½ å¦‚ä½•æ’ä¼˜å…ˆçº§ï¼Ÿ" },
              { en: "If a cable is mislabeled, what steps do you take to fix it?", zh: "å¦‚æœçº¿ç¼†æ ‡ç­¾é”™è¯¯ï¼Œä½ å¦‚ä½•çº æ­£ï¼Ÿ" },
            ],
          },
          {
            label: "è½¯æŠ€èƒ½ / Soft Skills",
            items: [
              { en: "Are you comfortable working night shifts and weekends?", zh: "ä½ èƒ½æ¥å—æ™šç­å’Œå‘¨æœ«ç­å—ï¼Ÿ" },
              { en: "Can you lift heavy equipment (servers, UPS, etc.)?", zh: "ä½ èƒ½æ¬åŠ¨è¾ƒé‡è®¾å¤‡å—ï¼ˆæœåŠ¡å™¨ã€UPS ç­‰ï¼‰ï¼Ÿ" },
              { en: "Do you have leadership experience in a data center environment?", zh: "ä½ åœ¨æ•°æ®ä¸­å¿ƒæœ‰å¸¦é˜Ÿæˆ–é¢†å¯¼ç»éªŒå—ï¼Ÿ" },
            ],
          },
        ],
      },
      {
        id: "tech",
        title: "2) æŠ€æœ¯çŸ¥è¯†è¦ç‚¹ / Technical Essentials",
        blocks: [
          {
            label: "Rack & Stack",
            items: [
              { en: "Install servers, switches, and storage into racks.", zh: "å®‰è£…æœåŠ¡å™¨ã€äº¤æ¢æœºã€å­˜å‚¨åˆ°æœºæŸœã€‚" },
              { en: "Mind airflow direction, power redundancy, and cable management.", zh: "æ³¨æ„æ°”æµæ–¹å‘ã€ç”µæºå†—ä½™ã€çº¿ç¼†ç®¡ç†ã€‚" },
            ],
          },
          {
            label: "Fiber & Copper",
            items: [
              { en: "SMF (single-mode): long distance, yellow jacket, laser.", zh: "å•æ¨¡ï¼šé•¿è·ç¦»ï¼Œé»„è‰²æŠ¤å¥—ï¼Œæ¿€å…‰ã€‚" },
              { en: "MMF (multi-mode): short distance, orange/aqua, LED.", zh: "å¤šæ¨¡ï¼šçŸ­è·ç¦»ï¼Œæ©™è‰²/æ°´è“è‰²ï¼ŒLEDã€‚" },
              { en: "SFP: ~1 Gbps; SFP+: 10 Gbps; QSFP: 40/100 Gbps.", zh: "SFPï¼šçº¦1Gï¼›SFP+ï¼š10Gï¼›QSFPï¼š40/100Gã€‚" },
            ],
          },
          {
            label: "Excel",
            items: [
              { en: "Functions: VLOOKUP, IF, SUM, COUNTIF.", zh: "å¸¸ç”¨å‡½æ•°ï¼šVLOOKUPã€IFã€SUMã€COUNTIFã€‚" },
              { en: "Pivot Table for asset inventory.", zh: "ç”¨æ•°æ®é€è§†è¡¨ç®¡ç†èµ„äº§æ¸…å•ã€‚" },
            ],
          },
          {
            label: "Ticketing (ServiceNow)",
            items: [
              { en: "Open/assign/close tickets.", zh: "åˆ›å»º/åˆ†é…/å…³é—­å·¥å•ã€‚" },
              { en: "Record installs, cabling, and deployments.", zh: "è®°å½•å®‰è£…ã€å¸ƒçº¿ã€éƒ¨ç½²ã€‚" },
            ],
          },
          {
            label: "Troubleshooting",
            items: [
              { en: "Order: Power â†’ Network â†’ Config â†’ Software.", zh: "é¡ºåºï¼šç”µæº â†’ ç½‘ç»œ â†’ é…ç½® â†’ è½¯ä»¶ã€‚" },
              { en: "Check LEDs, cables, SFP compatibility.", zh: "æ£€æŸ¥æŒ‡ç¤ºç¯ã€çº¿ç¼†ã€SFP å…¼å®¹æ€§ã€‚" },
            ],
          },
        ],
      },
      {
        id: "answers",
        title: "3) è‹±æ–‡å›ç­”ç¤ºä¾‹ / Sample Answers",
        blocks: [
          {
            label: "Experience",
            items: [
              { en: "I have over five years of experience working in data centers...", zh: "æˆ‘æœ‰5å¹´ä»¥ä¸Šæ•°æ®ä¸­å¿ƒç»éªŒâ€¦â€¦ï¼ˆä¸Šæ¶ã€å¸ƒçº¿ã€åº“å­˜ç®¡ç†ã€ServiceNowã€Excelï¼‰ã€‚" },
            ],
            copy: "I have over five years of experience working in data centers. My responsibilities included racking and stacking servers, running fiber and Ethernet cables, and managing equipment inventory. I also used ServiceNow for ticket management and Excel for tracking assets.",
          },
          {
            label: "SMF vs MMF",
            items: [
              { en: "SMF is for long distance with laser (yellow); MMF is for shorter runs with LED (orange/aqua).", zh: "å•æ¨¡ç”¨äºé•¿è·ç¦»ï¼ˆé»„è‰²ï¼Œæ¿€å…‰ï¼‰ï¼›å¤šæ¨¡ç”¨äºçŸ­è·ç¦»ï¼ˆæ©™/æ°´è“ï¼ŒLEDï¼‰ã€‚" },
            ],
            copy: "Single-mode fiber is designed for long-distance communication using a laser, usually with yellow jackets. Multi-mode fiber is used for shorter distances, typically inside data centers, and uses LED light, often with orange or aqua jackets.",
          },
          {
            label: "No Power Troubleshoot",
            items: [
              { en: "Check PSUs, PDUs, then logs/iDRAC; escalate via ticket if needed.", zh: "æ£€æŸ¥ PSU/PDUï¼Œç„¶åæ—¥å¿—/iDRACï¼›å¿…è¦æ—¶é€šè¿‡å·¥å•å‡çº§ã€‚" },
            ],
            copy: "First, I would check the power connections and ensure redundant power supplies are connected. Then I would verify if the PDU is providing power. If hardware seems fine, I would check logs or iDRAC/ILO for errors. If needed, Iâ€™d escalate through the ticketing system.",
          },
          {
            label: "Night Shifts",
            items: [
              { en: "Yes, Iâ€™m used to evening and weekend shifts in 24/7 environments.", zh: "å¯ä»¥ï¼Œæˆ‘é€‚åº” 24/7 ç¯å¢ƒçš„å¤œç­ä¸å‘¨æœ«ç­ã€‚" },
            ],
            copy: "Yes, I understand this role requires evening and weekend shifts. I am flexible and used to working in a 24/7 environment.",
          },
        ],
      },
      {
        id: "vocab",
        title: "4) Rack & Stack è¯æ±‡è¡¨ / Vocabulary",
        blocks: [
          {
            label: "æœºæŸœ & é™„ä»¶",
            items: [
              { en: "Rack â€” equipment cabinet", zh: "Rack â†’ æœºæŸœ" },
              { en: "Rack Unit (U) â€” 1U = 1.75 inches", zh: "æœºæŸœé«˜åº¦å•ä½ (1U=1.75è‹±å¯¸)" },
              { en: "Rails â€” slide rails for mounting", zh: "å¯¼è½¨ï¼ˆé‡‘å±æ»‘è½¨ï¼‰" },
              { en: "Blanking/Filler Panel â€” airflow filler", zh: "æŒ¡æ¿ï¼ˆå¡«å……ç©ºä½ã€ä¿è¯æ°”æµï¼‰" },
              { en: "Cable Management Arm (CMA)", zh: "çº¿ç¼†ç®¡ç†è‡‚" },
              { en: "Rack Mount Kit â€” screws, brackets", zh: "ä¸Šæ¶å¥—ä»¶ï¼ˆèºä¸ã€å¯¼è½¨ã€æ”¯æ¶ï¼‰" },
            ],
          },
          {
            label: "ç”µæºç›¸å…³",
            items: [
              { en: "PDU â€” Power Distribution Unit", zh: "ç”µæºåˆ†é…å•å…ƒ" },
              { en: "PSU â€” Power Supply Unit", zh: "ç”µæºæ¨¡å—" },
              { en: "Power Cord", zh: "ç”µæºçº¿" },
              { en: "Redundant Power Supply", zh: "å†—ä½™ç”µæº" },
            ],
          },
          {
            label: "ç½‘ç»œ & çº¿ç¼†",
            items: [
              { en: "Patch Panel", zh: "é…çº¿æ¶" },
              { en: "Ethernet Cable (Cat5e/Cat6/Cat6a)", zh: "ç½‘çº¿" },
              { en: "Fiber Optic Cable (SM/MM)", zh: "å…‰çº¤çº¿ï¼ˆå•æ¨¡/å¤šæ¨¡ï¼‰" },
              { en: "SFP / SFP+ / QSFP â€” transceivers", zh: "å…‰æ¨¡å—" },
              { en: "Transceiver â€” optical module", zh: "æ”¶å‘å™¨ï¼ˆSFP æ¨¡å—ï¼‰" },
              { en: "Cable Label", zh: "çº¿ç¼†æ ‡ç­¾" },
            ],
          },
          {
            label: "å®‰è£…ç›¸å…³",
            items: [
              { en: "Unboxing", zh: "å¼€ç®±" },
              { en: "Mounting Bracket", zh: "å®‰è£…æ”¯æ¶" },
              { en: "Thumbscrews / Cage Nuts", zh: "æ‰‹æ‹§èºä¸ / ç¬¼å¼èºæ¯" },
              { en: "Grounding", zh: "æ¥åœ°" },
            ],
          },
          {
            label: "æ•£çƒ­ & ç¯å¢ƒ",
            items: [
              { en: "Airflow", zh: "æ°”æµ" },
              { en: "Hot Aisle / Cold Aisle", zh: "çƒ­é€šé“ / å†·é€šé“" },
              { en: "Cooling Fan", zh: "é£æ‰‡" },
              { en: "Temperature Sensor", zh: "æ¸©åº¦ä¼ æ„Ÿå™¨" },
            ],
          },
        ],
      },
      {
        id: "dialogue",
        title: "5) ä¸Šæ¶å¯¹è¯æ¨¡æ‹Ÿ / Dialogue Simulation",
        blocks: [
          {
            label: "Conversation",
            items: [
              { en: "Supervisor: Hey, we need to rack and stack this new Dell server in Rack 12. Can you take care of it?", zh: "ä¸»ç®¡ï¼šè¦æŠŠæ–°DellæœåŠ¡å™¨ä¸Šåˆ°12å·æœºæŸœï¼Œä½ æ¥è´Ÿè´£å—ï¼Ÿ" },
              { en: "You: Sure. Iâ€™ll start by unboxing the server and checking the rail kit.", zh: "ä½ ï¼šå¥½çš„ã€‚æˆ‘å…ˆå¼€ç®±å¹¶æ£€æŸ¥å¯¼è½¨å¥—ä»¶ã€‚" },
              { en: "Supervisor: Make sure you install the rails properly. Need any help?", zh: "ä¸»ç®¡ï¼šå¯¼è½¨è¦è£…å¥½ï¼Œéœ€è¦å¸®å¿™å—ï¼Ÿ" },
              { en: "You: Iâ€™ll mount the rails, slide the server into place, and secure it with cage nuts and screws.", zh: "ä½ ï¼šæˆ‘ä¼šè£…å¥½å¯¼è½¨ï¼ŒæŠŠæœåŠ¡å™¨æ¨å…¥å¹¶ç”¨èºä¸å›ºå®šã€‚" },
              { en: "Supervisor: Donâ€™t forget about power and network connections.", zh: "ä¸»ç®¡ï¼šåˆ«å¿˜äº†ç”µæºå’Œç½‘ç»œè¿æ¥ã€‚" },
              { en: "You: Iâ€™ll connect redundant PSUs to separate PDUs, then Ethernet and fiber. Iâ€™ll label all cables.", zh: "ä½ ï¼šæˆ‘ä¼šæŠŠå†—ä½™ç”µæºæ¥åˆ°ä¸åŒPDUï¼Œå†æ¥ç½‘çº¿å’Œå…‰çº¤ï¼Œå¹¶è´´å¥½æ ‡ç­¾ã€‚" },
              { en: "Supervisor: How about airflow management?", zh: "ä¸»ç®¡ï¼šæ°”æµç®¡ç†å‘¢ï¼Ÿ" },
              { en: "You: Iâ€™ll install blanking panels and ensure the CMA doesnâ€™t block airflow.", zh: "ä½ ï¼šæˆ‘ä¼šè£…æŒ¡æ¿å¹¶ç¡®ä¿ç†çº¿è‡‚ä¸é˜»æŒ¡æ°”æµã€‚" },
              { en: "Supervisor: Once itâ€™s powered on, log a ticket in ServiceNow.", zh: "ä¸»ç®¡ï¼šå¼€æœºååœ¨ServiceNowé‡Œè®°å½•ã€‚" },
              { en: "You: Will do. Iâ€™ll test power, check iDRAC, and update the ticket.", zh: "ä½ ï¼šæ”¶åˆ°ã€‚æˆ‘ä¼šæµ‹è¯•ç”µæºï¼Œæ£€æŸ¥iDRACï¼Œå¹¶æ›´æ–°å·¥å•ã€‚" },
            ],
          },
        ],
      },
      {
        id: "checklist",
        title: "6) Rack & Stack Checklist / æ“ä½œæ¸…å•",
        blocks: [
          {
            label: "Step 1: Preparation",
            items: [
              { en: "Verify rack location and U-space.", zh: "ç¡®è®¤æœºæŸœä½ç½®ä¸Ué«˜åº¦ã€‚" },
              { en: "Unbox and check rail kit, power cords, accessories.", zh: "å¼€ç®±å¹¶æ£€æŸ¥å¯¼è½¨ã€ç”µæºçº¿ã€é…ä»¶ã€‚" },
              { en: "Ensure ESD protection.", zh: "åšå¥½é™ç”µé˜²æŠ¤ã€‚" },
            ],
          },
          {
            label: "Step 2: Install Rails",
            items: [
              { en: "Mount rail kit securely.", zh: "ç‰¢å›ºå®‰è£…å¯¼è½¨ã€‚" },
              { en: "Ensure level & alignment.", zh: "ç¡®ä¿æ°´å¹³ä¸å¯¹é½ã€‚" },
            ],
          },
          {
            label: "Step 3: Rack the Server",
            items: [
              { en: "Slide server into rails carefully.", zh: "å°å¿ƒæ¨å…¥æœåŠ¡å™¨ã€‚" },
              { en: "Secure with cage nuts and thumbscrews.", zh: "ç”¨ç¬¼å¼èºæ¯å’Œæ‰‹æ‹§èºä¸å›ºå®šã€‚" },
            ],
          },
          {
            label: "Step 4: Connect Power",
            items: [
              { en: "Connect redundant PSUs to separate PDUs.", zh: "å†—ä½™ç”µæºæ¥å…¥ä¸åŒPDUã€‚" },
              { en: "Verify power cords are firm.", zh: "ç¡®è®¤ç”µæºçº¿ç‰¢å›ºã€‚" },
            ],
          },
          {
            label: "Step 5: Network & Fiber",
            items: [
              { en: "Connect Ethernet and fiber per diagram.", zh: "æŒ‰æ‹“æ‰‘å›¾æ¥ç½‘çº¿ä¸å…‰çº¤ã€‚" },
              { en: "Label both cable ends.", zh: "çº¿ç¼†ä¸¤ç«¯è´´æ ‡ç­¾ã€‚" },
              { en: "Route via cable management arm.", zh: "èµ°çº¿æ”¾å…¥ç†çº¿è‡‚ã€‚" },
            ],
          },
          {
            label: "Step 6: Airflow & Blanking",
            items: [
              { en: "Install blanking panels in unused spaces.", zh: "ç©ºä½å®‰è£…æŒ¡æ¿ã€‚" },
              { en: "Ensure cables donâ€™t block fans.", zh: "ç¡®ä¿çº¿ç¼†ä¸æŒ¡é£ã€‚" },
            ],
          },
          {
            label: "Step 7: Power On & Test",
            items: [
              { en: "Power on and check LEDs.", zh: "å¼€æœºå¹¶çœ‹æŒ‡ç¤ºç¯ã€‚" },
              { en: "Check iDRAC/iLO for health.", zh: "ç”¨ iDRAC/iLO æŸ¥ç¡¬ä»¶å¥åº·ã€‚" },
            ],
          },
          {
            label: "Step 8: Documentation",
            items: [
              { en: "Update asset inventory in Excel.", zh: "åœ¨Excelæ›´æ–°èµ„äº§ã€‚" },
              { en: "Update/close ServiceNow ticket.", zh: "æ›´æ–°/å…³é—­å·¥å•ã€‚" },
            ],
          },
          {
            label: "Summary (one-liner)",
            items: [
              { en: "My rack & stack process: prep â†’ rails â†’ mount â†’ power & network â†’ airflow â†’ power-on â†’ docs.", zh: "æµç¨‹ï¼šå‡†å¤‡â†’å¯¼è½¨â†’ä¸Šæ¶â†’ç”µæº/ç½‘ç»œâ†’æ°”æµâ†’å¼€æœºâ†’æ–‡æ¡£ã€‚" },
            ],
          },
        ],
      },
    ],
  };
}
